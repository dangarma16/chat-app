<!DOCTYPE html>
<html>
<head>
    <title>Profesyonel Sesli Sohbet</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’¬</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <!-- GiriÅŸ EkranÄ± -->
    <div id="login">
        <h2>Profesyonel Sesli Sohbet</h2>
        <p>GeliÅŸmiÅŸ ses teknolojisi ile kristal netliÄŸinde ses kalitesi yaÅŸayÄ±n</p>
        <input type="text" id="username" placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin">
        <button onclick="join()">Sohbete KatÄ±l</button>
        <div class="features">
            <p>YÃ¼ksek kaliteli sesli sohbet</p>
            <p>GeliÅŸmiÅŸ ses kontrolleri</p>
            <p>GÃ¼venli peer-to-peer baÄŸlantÄ±lar</p>
            <p>Profesyonel arayÃ¼z</p>
        </div>
    </div>
    
    <!-- Ana Sohbet ArayÃ¼zÃ¼ -->
    <div id="chat" style="display:none;">
        <!-- Sol Kenar Ã‡ubuÄŸu -->
        <div id="users">
            <h3>Ã‡evrimiÃ§i KullanÄ±cÄ±lar</h3>
            <ul id="usersList"></ul>
            
            <!-- Ses Kontrolleri -->
            <div id="voiceControls">
                <h4>Sesli Sohbet</h4>
                <button id="startVoice" onclick="startVoice()">Sesi BaÅŸlat</button>
                <button id="stopVoice" onclick="stopVoice()" style="display:none;">Sesi Durdur</button>
                <div id="voiceStatus">Ses: KapalÄ±</div>
                
                <!-- Ses Kontrolleri -->
                <div id="volumeControls" style="display:none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #40444b;">
                    <h5>Ses AyarlarÄ±</h5>
                    
                    <!-- Sessiz ButonlarÄ± -->
                    <div style="display: flex; gap: 5px; margin-bottom: 15px;">
                        <button id="micMuteButton" onclick="toggleMicrophoneMute()" 
                                style="flex: 1; padding: 8px; background-color: #43b581; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            Mikrofonu Sessize Al
                        </button>
                        <button id="speakerMuteButton" onclick="toggleSpeakerMute()" 
                                style="flex: 1; padding: 8px; background-color: #43b581; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            HoparlÃ¶rÃ¼ Sessize Al
                        </button>
                    </div>
                    
                    <!-- Ekran PaylaÅŸÄ±m Butonu -->
                    <div style="margin-bottom: 15px;">
                        <button id="screenShareButton" onclick="toggleScreenShare()" 
                                style="width: 100%; padding: 10px; background-color: #3b82f6; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 13px; font-weight: 500;">
                            EkranÄ± PaylaÅŸ
                        </button>
                    </div>
                    
                    <!-- Hata AyÄ±klama Butonu -->
                    <div style="margin-bottom: 15px;">
                        <button onclick="testMuting()" 
                                style="width: 100%; padding: 8px; background-color: #6c757d; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            Sessiz Durumunu Test Et
                        </button>
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <label style="font-size: 12px; color: #b9bbbe; display: block; margin-bottom: 5px;">
                            Mikrofon: <span id="micVolumeDisplay">100%</span>
                        </label>
                        <input type="range" id="micVolumeSlider" min="0" max="100" value="100" 
                               style="width: 100%;" oninput="updateMicrophoneVolume(this.value)">
                    </div>
                    
                    <div style="margin-bottom: 10px;">
                        <label style="font-size: 12px; color: #b9bbbe; display: block; margin-bottom: 5px;">
                            Gelen Ses: <span id="incomingVolumeDisplay">100%</span>
                        </label>
                        <input type="range" id="incomingVolumeSlider" min="0" max="100" value="100" 
                               style="width: 100%;" oninput="updateIncomingVolume(this.value)">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Orta Ekran GÃ¶rÃ¼ntÃ¼leyici -->
        <div id="screenViewer">
            <div id="screenViewerHeader">
                <h3>Ekran PaylaÅŸÄ±mÄ±</h3>
                <div id="screenViewerControls">
                    <button id="maximizeChatButton" onclick="toggleChatSize()" title="Sohbeti BÃ¼yÃ¼t">
                        â¬œ
                    </button>
                    <button id="fullScreenButton" onclick="toggleFullScreen()" title="Tam Ekran" style="display:none;">
                        â›¶
                    </button>
                </div>
            </div>
            <div id="screenViewerContent">
                <div id="noScreenMessage">Kimse ekranÄ±nÄ± paylaÅŸmÄ±yor</div>
                <video id="screenVideo" autoplay muted style="display:none;"></video>
            </div>
        </div>
        
        <!-- SaÄŸ Sohbet AlanÄ± (KÃ¼Ã§Ã¼ltÃ¼lmÃ¼ÅŸ) -->
        <div id="messages" class="chat-minimized">
            <!-- Mesajlar BaÅŸlÄ±ÄŸÄ± -->
            <div id="messagesHeader">
                <h3>Genel Sohbet</h3>
                <div id="connectionStatus">BaÄŸlandÄ±</div>
            </div>
            
            <!-- Mesajlar Listesi -->
            <div id="messagesList"></div>
            
            <!-- Mesaj GiriÅŸi -->
            <div id="input">
                <textarea id="messageInput" placeholder="MesajÄ±nÄ±zÄ± buraya yazÄ±n... (Yeni satÄ±r iÃ§in Shift+Enter)" rows="1"></textarea>
                <button onclick="sendMessage()">GÃ¶nder</button>
            </div>
        </div>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
